{% extends 'operator/adminbase.html' %}
{% load static %}

{% block styles %} 
<ink rel="stylesheet" href="{% static 'assets/extensions/datatables.net-bs5/css/dataTables.bootstrap5.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/pages/datatables.css' %}">
{% endblock %}
{% block title %} Manajemen Artikel {% endblock title %}
{% block content %}
<div class="page-heading">
<div class="page-title">
    <div class="row">
        <div class="col-12 col-md-6 order-md-1 order-last">
            <h3>Manajemen Artikel</h3>
        </div>
    </div>
</div>
<!-- {% if messages %}
{% for message in messages %}
<div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
    <strong> {{message}} </strong>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{% endfor %}
{% endif %} -->
<section class="section">
    <div class="card">
        <div class="card-header">
            <a href="{% url 'tambah-artikel' %}" class="btn btn-success"><i class="fas fa-plus"></i>&nbsp;Tambah</a>
        </div>
        <div class="card-body">
            <table class="table table-striped" id="table1">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th width="10">Judul</th>
                        <th width="10">Kategori</th>
                        <th width="200">Isi</th>
                        <th>Status</th>
                        <th>Author</th>
                        <th>Published</th>
                        <th>Aksi</th>
                    </tr>
                </thead>
                <tbody>
                    {% for artikel in artikels %}
                    <tr>
                        <td>{{forloop.counter}}.</td>
                        <td>{{artikel.judul}}</td>
                        <td>{{artikel.kategori}}</td>
                        <td>{{artikel.isi|truncatewords:2|striptags}}</td>
                        <td>
                            <span class="badge bg-{% if artikel.status == 'Active' %}success{% else %}danger{% endif %}">{{artikel.status}}</span>
                        </td>
                        <td>{{artikel.author}}</td>
                        <td>{{artikel.published}}</td>
                        <td>
                            <a href="{% url 'detail-artikel' artikel.id %}" class="btn btn-sm btn-secondary"><i class="fas fa-eye"></i>&nbsp;Detail</a>
                            <a href="{% url 'edit-artikel' artikel.id %}" class="btn btn-sm btn-warning"><i class="fas fa-edit"></i>&nbsp;Edit</a>
                            <button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#hapus-artikel-{{artikel.id}}"><i class="fas fa-trash"></i>&nbsp;Hapus</button>
                            {% include "operator/artikel/hapus.html" %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

</section>
</div>
{% block scripts %}

<script src="{% static 'assets/extensions/jquery/jquery.min.js' %}"></script>
<script src="https://cdn.datatables.net/v/bs5/dt-1.12.1/datatables.min.js"></script>
<script src="{% static 'assets/js/pages/datatables.js' %}"></script>

{% endblock scripts %}
{% endblock %}